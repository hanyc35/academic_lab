<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>科研数据库 - 注册</title>
    <script src="tailwind.css"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36CFC9',
                        tertiary: '#722ED1',
                        neutral: {
                            100: '#F5F7FA',
                            200: '#E4E6EB',
                            300: '#C9CDD4',
                            700: '#4E5969',
                            800: '#272E3B',
                            900: '#1D2129',
                        }
                    },
                    fontFamily: {
                        inter: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .input-focus {
                @apply focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all duration-300;
            }
            .progress-step {
                @apply relative flex flex-col items-center;
            }
            .progress-line {
                @apply absolute h-1 w-full top-1/2 -translate-y-1/2 z-0;
            }
            .progress-dot {
                @apply relative z-10 flex items-center justify-center w-8 h-8 rounded-full border-2 transition-all duration-300;
            }
            .progress-label {
                @apply mt-2 text-xs font-medium text-center;
            }
        }
    </style>
</head>
<body class="font-inter bg-neutral-100 min-h-screen flex items-center justify-center">
    <div class="container mx-auto px-4 py-12">
        <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-2xl overflow-hidden">
            <!-- 顶部进度条 -->
            <div class="border-b border-neutral-200">
                <div class="flex items-center">
                    <div class="w-full flex justify-between py-6 px-8">
                        <div class="progress-step">
                            <div class="progress-line bg-primary"></div>
                            <div class="progress-dot bg-primary text-white">1</div>
                            <div class="progress-label text-primary">账号信息</div>
                        </div>
                        <div class="progress-step">
                            <div class="progress-line bg-neutral-200"></div>
                            <div class="progress-dot bg-neutral-200 text-neutral-400">2</div>
                            <div class="progress-label text-neutral-400">领域选择</div>
                        </div>
                        <div class="progress-step">
                            <div class="progress-line bg-neutral-200"></div>
                            <div class="progress-dot bg-neutral-200 text-neutral-400">3</div>
                            <div class="progress-label text-neutral-400">完成注册</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 注册表单 -->
            <div class="p-8 md:p-12">
                <div class="text-center mb-8">
                    <h2 class="text-3xl font-bold text-neutral-900 mb-2">注册科研数据库</h2>
                    <p class="text-neutral-600">创建账号，获取专业科研资源访问权限</p>
                </div>

                <form class="space-y-6">
                    <!-- 用户名 -->
                    <div>
                        <label for="username" class="block text-sm font-medium text-neutral-700 mb-1">用户名</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <i class="fas fa-user text-neutral-400"></i>
                            </div>
                            <input type="text" id="username" name="username" class="block w-full pl-12 pr-4 py-3 border border-neutral-300 rounded-lg input-focus" placeholder="请设置用户名 (4-20位字符)" required>
                            <div class="absolute inset-y-0 right-0 pr-4 flex items-center text-green-500 hidden" id="usernameValid">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        <p class="mt-1 text-xs text-neutral-500">用户名由字母、数字和下划线组成，4-20位字符</p>
                    </div>

                    <!-- 邮箱 -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-neutral-700 mb-1">电子邮箱</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <i class="fas fa-envelope text-neutral-400"></i>
                            </div>
                            <input type="email" id="email" name="email" class="block w-full pl-12 pr-4 py-3 border border-neutral-300 rounded-lg input-focus" placeholder="请输入有效邮箱" required>
                            <div class="absolute inset-y-0 right-0 pr-4 flex items-center text-green-500 hidden" id="emailValid">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        <p class="mt-1 text-xs text-neutral-500">请使用常用邮箱，用于接收验证信息和资源通知</p>
                    </div>

                    <!-- 密码 -->
                    <div>
                        <label for="password" class="block text-sm font-medium text-neutral-700 mb-1">密码</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <i class="fas fa-lock text-neutral-400"></i>
                            </div>
                            <input type="password" id="password" name="password" class="block w-full pl-12 pr-12 py-3 border border-neutral-300 rounded-lg input-focus" placeholder="请设置密码 (至少8位)" required>
                            <button type="button" class="absolute inset-y-0 right-0 pr-4 flex items-center text-neutral-400 hover:text-neutral-600" id="togglePassword">
                                <i class="fas fa-eye-slash"></i>
                            </button>
                        </div>
                        <div class="mt-2 grid grid-cols-4 gap-1">
                            <div class="text-xs px-2 py-1 rounded bg-red-100 text-red-700 hidden" id="passwordWeak">密码过弱</div>
                            <div class="text-xs px-2 py-1 rounded bg-yellow-100 text-yellow-700 hidden" id="passwordMedium">密码中等</div>
                            <div class="text-xs px-2 py-1 rounded bg-green-100 text-green-700 hidden" id="passwordStrong">密码 strong</div>
                        </div>
                        <p class="mt-1 text-xs text-neutral-500">密码至少包含8个字符，建议使用字母、数字和符号组合</p>
                    </div>

                    <!-- 确认密码 -->
                    <div>
                        <label for="confirmPassword" class="block text-sm font-medium text-neutral-700 mb-1">确认密码</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <i class="fas fa-lock text-neutral-400"></i>
                            </div>
                            <input type="password" id="confirmPassword" name="confirmPassword" class="block w-full pl-12 pr-12 py-3 border border-neutral-300 rounded-lg input-focus" placeholder="请再次输入密码" required>
                            <div class="absolute inset-y-0 right-0 pr-4 flex items-center text-green-500 hidden" id="passwordMatch">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                    </div>

                    <!-- 机构/学校 -->
                    <div>
                        <label for="institution" class="block text-sm font-medium text-neutral-700 mb-1">所属机构/学校</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <i class="fas fa-building text-neutral-400"></i>
                            </div>
                            <input type="text" id="institution" name="institution" class="block w-full pl-12 pr-4 py-3 border border-neutral-300 rounded-lg input-focus" placeholder="请输入机构或学校名称" required>
                        </div>
                    </div>

                    <!-- 同意条款 -->
                    <div class="flex items-start">
                        <div class="flex items-center h-5">
                            <input id="terms" name="terms" type="checkbox" class="h-4 w-4 text-primary focus:ring-primary border-neutral-300 rounded" required>
                        </div>
                        <div class="ml-3 text-sm">
                            <label for="terms" class="font-medium text-neutral-700">我同意 <a href="#" class="text-primary hover:underline transition-colors">用户协议</a> 和 <a href="#" class="text-primary hover:underline transition-colors">隐私政策</a></label>
                        </div>
                    </div>

                    <!-- 下一步按钮 -->
                    <div class="pt-4">
                        <a href="注册界面2.html" type="button" id="nextStep" class="w-full flex justify-center py-3 px-6 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-primary hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            下一步
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // 密码显示/隐藏切换
        document.getElementById('togglePassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('password');
            const icon = this.querySelector('i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            }
        });

        // 表单验证
        const usernameInput = document.getElementById('username');
        const emailInput = document.getElementById('email');
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        const termsCheckbox = document.getElementById('terms');
        const nextButton = document.getElementById('nextStep');

        // 验证用户名
        usernameInput.addEventListener('input', function() {
            const isValid = /^[a-zA-Z0-9_]{4,20}$/.test(this.value);
            document.getElementById('usernameValid').classList.toggle('hidden', !isValid);
            checkFormValidity();
        });

        // 验证邮箱
        emailInput.addEventListener('input', function() {
            const isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.value);
            document.getElementById('emailValid').classList.toggle('hidden', !isValid);
            checkFormValidity();
        });

        // 验证密码强度
        passwordInput.addEventListener('input', function() {
            const password = this.value;
            const hasUpperCase = /[A-Z]/.test(password);
            const hasLowerCase = /[a-z]/.test(password);
            const hasNumber = /[0-9]/.test(password);
            const hasSymbol = /[^A-Za-z0-9]/.test(password);
            const length = password.length;

            document.getElementById('passwordWeak').classList.add('hidden');
            document.getElementById('passwordMedium').classList.add('hidden');
            document.getElementById('passwordStrong').classList.add('hidden');

            if (length < 8) {
                document.getElementById('passwordWeak').classList.remove('hidden');
            } else if ((hasUpperCase || hasLowerCase) && hasNumber && length >= 8) {
                document.getElementById('passwordMedium').classList.remove('hidden');
            } else if ((hasUpperCase && hasLowerCase) && (hasNumber || hasSymbol) && length >= 10) {
                document.getElementById('passwordStrong').classList.remove('hidden');
            }

            checkFormValidity();
        });

        // 验证密码匹配
        confirmPasswordInput.addEventListener('input', function() {
            const isMatch = this.value === passwordInput.value;
            document.getElementById('passwordMatch').classList.toggle('hidden', !isMatch);
            checkFormValidity();
        });

        // 验证条款勾选
        termsCheckbox.addEventListener('change', checkFormValidity);

        // 检查表单有效性
        function checkFormValidity() {
            const usernameValid = !document.getElementById('usernameValid').classList.contains('hidden');
            const emailValid = !document.getElementById('emailValid').classList.contains('hidden');
            const passwordValid = passwordInput.value.length >= 8 && 
                                  (!document.getElementById('passwordWeak').classList.contains('hidden') ||
                                   !document.getElementById('passwordMedium').classList.contains('hidden') ||
                                   !document.getElementById('passwordStrong').classList.contains('hidden'));
            const confirmValid = !document.getElementById('passwordMatch').classList.contains('hidden');
            const termsValid = termsCheckbox.checked;

            nextButton.disabled = !(usernameValid && emailValid && passwordValid && confirmValid && termsValid);
        }

        // 下一步按钮点击事件（实际应用中应替换为表单提交或页面跳转）
        nextButton.addEventListener('click', function() {
            // 模拟表单提交，实际应跳转到领域选择页面
            alert('表单验证通过，跳转到领域选择页面');
            // window.location.href = 'register-step2.html';
        });
    </script>
</body>
</html>